{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./material.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AppComponent_tr_57_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"h5\", 72);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"span\", 73);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"span\", 73);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\")(9, \"span\", 73);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"span\", 73);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"br\")(14, \"span\", 73);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"span\", 73);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"br\")(19, \"span\", 73);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\")(21, \"span\", 73);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"br\")(24, \"span\", 73);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\")(26, \"button\", 74);\n    i0.ɵɵlistener(\"click\", function AppComponent_tr_57_Template_button_click_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const material_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onOpenModal(material_r6, \"delete\"));\n    });\n    i0.ɵɵelement(27, \"i\", 75);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 74);\n    i0.ɵɵlistener(\"click\", function AppComponent_tr_57_Template_button_click_28_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const material_r6 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onOpenModal(material_r6, \"update\"));\n    });\n    i0.ɵɵelement(29, \"i\", 76);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"button\", 74);\n    i0.ɵɵlistener(\"click\", function AppComponent_tr_57_Template_button_click_30_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const material_r6 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onOpenModal(material_r6, \"buy\"));\n    });\n    i0.ɵɵelement(31, \"i\", 77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"button\", 74);\n    i0.ɵɵlistener(\"click\", function AppComponent_tr_57_Template_button_click_32_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const material_r6 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.onBuyOneMaterial(material_r6));\n    });\n    i0.ɵɵelement(33, \"i\", 78);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"button\", 74);\n    i0.ɵɵlistener(\"click\", function AppComponent_tr_57_Template_button_click_34_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const material_r6 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onUseOneMaterial(material_r6));\n    });\n    i0.ɵɵelement(35, \"i\", 79);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const material_r6 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(material_r6 == null ? null : material_r6.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(material_r6 == null ? null : material_r6.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", material_r6 == null ? null : material_r6.quantity, \" \", material_r6 == null ? null : material_r6.unit, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", material_r6 == null ? null : material_r6.price, \" z\\u0142\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", material_r6.quantity * material_r6.price, \" z\\u0142\");\n  }\n}\nfunction AppComponent_tr_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelement(1, \"td\", 80);\n    i0.ɵɵelementStart(2, \"td\", 81)(3, \"h5\", 72);\n    i0.ɵɵtext(4, \"There is no material in your database.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 73);\n    i0.ɵɵtext(6, \"Feel free to add some.\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport class AppComponent {\n  constructor(materialService) {\n    this.materialService = materialService;\n    this.materials = [];\n  }\n  ngOnInit() {\n    this.getMaterials();\n  }\n  getMaterials() {\n    this.materialService.getMaterials().subscribe(response => {\n      console.log(response);\n      this.materials = response;\n    }, error => {\n      alert(error.message);\n    });\n  }\n  onAddMaterial(addForm) {\n    document.getElementById('add-material-form').click();\n    if (this.validateQuantity(addForm.value) && this.validatePrice(addForm.value)) {\n      this.materialService.addMaterial(addForm.value).subscribe(response => {\n        console.log(response);\n        this.getMaterials();\n      }, error => {\n        alert(error.message);\n      });\n    }\n    addForm.reset();\n  }\n  onUpdateMaterial(material) {\n    if (this.validateQuantity(material) && this.validatePrice(material)) {\n      this.materialService.updateMaterial(material).subscribe(response => {\n        console.log(response);\n        this.getMaterials();\n      }, error => {\n        alert(error.message);\n      });\n    } else {\n      this.editMaterial = material;\n      this.buyMaterial = material;\n    }\n  }\n  onBuyOneMaterial(material) {\n    material.quantity++;\n    this.materialService.updateMaterial(material).subscribe(response => {\n      console.log(response);\n      //this.getMaterials();\n    }, error => {\n      alert(error.message);\n      material.quantity--;\n    });\n  }\n  onUseOneMaterial(material) {\n    if (material.quantity >= 1) {\n      material.quantity--;\n    } else {\n      alert(\"You are out of \" + material.name);\n    }\n    this.materialService.updateMaterial(material).subscribe(response => {\n      console.log(response);\n      //this.getMaterials();\n    }, error => {\n      alert(error.message);\n      material.quantity++;\n    });\n  }\n  onDeleteMaterial(materialId) {\n    this.materialService.deleteMaterial(materialId).subscribe(response => {\n      console.log(response);\n      this.getMaterials();\n    }, error => {\n      alert(error.message);\n    });\n  }\n  searchMaterials(key) {\n    const results = [];\n    for (const material of this.materials) {\n      if (material.name.toLowerCase().indexOf(key.toLowerCase()) !== -1 || material.description.toLowerCase().indexOf(key.toLowerCase()) !== -1) {\n        results.push(material);\n      }\n    }\n    this.materials = results;\n    if (results.length === 0 || !key) {\n      this.getMaterials();\n    }\n  }\n  validateQuantity(material) {\n    if (material.quantity < 0) {\n      alert(\"You cannot input negative quantity of \" + material.name);\n      return false;\n    }\n    return true;\n  }\n  validatePrice(material) {\n    if (material.price < 0) {\n      alert(\"You cannot input negative price of \" + material.name);\n      return false;\n    }\n    return true;\n  }\n  onSortUpByPrice() {\n    this.materials.sort((a, b) => a.price - b.price);\n  }\n  onSortDownByPrice() {\n    this.materials.sort((a, b) => b.price - a.price);\n  }\n  onSortUpByName() {\n    this.materials.sort((a, b) => a.name.localeCompare(b.name));\n  }\n  onSortDownByName() {\n    this.materials.sort((a, b) => b.name.localeCompare(a.name));\n  }\n  onOpenModal(material, mode) {\n    const container = document.getElementById('main-container');\n    const button = document.createElement('button');\n    button.type = 'button';\n    button.style.display = 'none';\n    button.setAttribute('data-toggle', 'modal');\n    if (mode === 'add') {\n      button.setAttribute('data-target', '#addMaterialModal');\n    }\n    if (mode === 'update') {\n      this.editMaterial = material;\n      button.setAttribute('data-target', '#updateMaterialModal');\n    }\n    if (mode === 'buy') {\n      this.buyMaterial = material;\n      button.setAttribute('data-target', '#buyMaterialModal');\n    }\n    if (mode === 'delete') {\n      this.deleteMaterial = material;\n      button.setAttribute('data-target', '#deleteMaterialModal');\n    }\n    container.appendChild(button);\n    button.click();\n  }\n  xlsReport() {\n    let dataType = 'application/vnd.ms-excel.sheet.macroEnabled.12';\n    let tableSelect = document.getElementById('materialList');\n    let tableHtml = tableSelect.outerHTML.replace(/ /g, '%20');\n    let downloadLink = document.createElement('a');\n    document.body.appendChild(downloadLink);\n    downloadLink.href = 'data:' + dataType + ', ' + tableHtml;\n    downloadLink.download = 'material-report.xls';\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  }\n  printReport() {\n    window.print();\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.MaterialService));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 177,\n  vars: 19,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://use.fontawesome.com/releases/v5.15.4/css/all.css\"], [\"id\", \"main-container\", 1, \"container\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-menu\"], [1, \"Buttons-container\"], [\"type\", \"button\", 1, \"Btns\", 3, \"click\"], [1, \"cardTitle\"], [1, \"search-container\"], [\"for\", \"inp\", 1, \"inp\"], [\"type\", \"search\", \"id\", \"inp\", \"ngModel\", \"\", \"name\", \"key\", \"placeholder\", \"\\u00A0\", 3, \"ngModelChange\"], [\"key\", \"ngModel\"], [1, \"label\"], [1, \"focus-bg\"], [1, \"table-responsive\"], [\"id\", \"materialList\", 1, \"table\", \"no-wrap\", \"user-table\", \"mb-0\"], [\"scope\", \"col\", 1, \"border-0\", \"text-uppercase\", \"font-medium\"], [\"type\", \"button\", 1, \"sortBtns\", 3, \"click\"], [1, \"fas\", \"fa-sort-alpha-down\"], [1, \"fas\", \"fa-sort-alpha-down-alt\"], [1, \"fas\", \"fa-sort-numeric-down\"], [1, \"fas\", \"fa-sort-numeric-down-alt\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"id\", \"addMaterialModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"addMaterialModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"addMaterialModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [3, \"ngSubmit\"], [\"addForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"name\", \"id\", \"name\", \"placeholder\", \"Name\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"description\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"description\", \"id\", \"type\", \"placeholder\", \"Type\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"quantity\"], [\"type\", \"number\", \"ngModel\", \"\", \"name\", \"quantity\", \"id\", \"quantity\", \"placeholder\", \"Quantity\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"unit\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"unit\", \"id\", \"unit\", \"placeholder\", \"Unit\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"price\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"price\", \"id\", \"price\", \"placeholder\", \"Price\", \"required\", \"\", 1, \"form-control\"], [1, \"modal-footer\"], [\"type\", \"button\", \"id\", \"add-material-form\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"id\", \"updateMaterialModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"updateMaterialModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"id\", \"updateMaterialModalLabel\", 1, \"modal-title\"], [\"editForm\", \"ngForm\"], [\"type\", \"text\", \"name\", \"name\", \"id\", \"name\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"hidden\", \"name\", \"id\", \"id\", \"id\", \"placeholder\", \"Id\", 1, \"form-control\", 3, \"ngModel\"], [\"for\", \"descriptione\"], [\"type\", \"text\", \"name\", \"description\", \"id\", \"type\", \"placeholder\", \"Type\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"number\", \"name\", \"quantity\", \"id\", \"quantity\", \"placeholder\", \"Quantity\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"text\", \"name\", \"unit\", \"id\", \"unit\", \"placeholder\", \"Unit\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"text\", \"name\", \"price\", \"id\", \"price\", \"placeholder\", \"Price\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"data-dismiss\", \"modal\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"id\", \"buyMaterialModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"buyMaterialModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"id\", \"buyMaterialModalLabel\", 1, \"modal-title\"], [\"buyForm\", \"ngForm\"], [\"type\", \"hidden\", \"name\", \"name\", \"id\", \"name\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"hidden\", \"name\", \"description\", \"id\", \"type\", \"placeholder\", \"Type\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"hidden\", \"name\", \"unit\", \"id\", \"unit\", \"placeholder\", \"Unit\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"hidden\", \"name\", \"price\", \"id\", \"price\", \"placeholder\", \"Price\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"id\", \"deleteMaterialModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"deleteMaterialModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"id\", \"deleteMaterialModalLabel\", 1, \"modal-title\"], [\"data-dismiss\", \"modal\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"font-medium\", \"mb-0\"], [1, \"text-muted\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", \"btn-circle\", \"btn-lg\", \"btn-circle\", \"ml-2\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [1, \"fa\", \"fa-edit\"], [1, \"fa\", \"fa-plus\"], [1, \"fa\", \"fa-plus-square\"], [1, \"fa\", \"fa-minus-square\"], [1, \"pl-4\"], [\"colspan\", \"6\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r13 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelement(0, \"link\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5);\n      i0.ɵɵtext(6, \"INSTALBASE by Dirtyloop \");\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_9_listener() {\n        return ctx.ngOnInit();\n      });\n      i0.ɵɵelementStart(10, \"h3\", 9);\n      i0.ɵɵtext(11, \"WAREHOUSE MANAGER v.0.2 \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(12, \"div\", 7)(13, \"h4\")(14, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_14_listener() {\n        return ctx.onOpenModal(null, \"add\");\n      });\n      i0.ɵɵtext(15, \"ADD NEW\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"div\", 7)(17, \"h4\")(18, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_18_listener() {\n        return ctx.xlsReport();\n      });\n      i0.ɵɵtext(19, \"XLS LIST\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"div\", 7)(21, \"h4\")(22, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_22_listener() {\n        return ctx.printReport();\n      });\n      i0.ɵɵtext(23, \"PRINT LIST\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(24, \"div\", 10)(25, \"form\")(26, \"label\", 11)(27, \"input\", 12, 13);\n      i0.ɵɵlistener(\"ngModelChange\", function AppComponent_Template_input_ngModelChange_27_listener() {\n        i0.ɵɵrestoreView(_r13);\n        const _r0 = i0.ɵɵreference(28);\n        return i0.ɵɵresetView(ctx.searchMaterials(_r0.value));\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"span\", 14);\n      i0.ɵɵtext(30, \"Search materials\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(31, \"span\", 15);\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(32, \"div\", 16)(33, \"table\", 17)(34, \"thead\")(35, \"tr\")(36, \"th\", 18);\n      i0.ɵɵtext(37, \"Name \");\n      i0.ɵɵelementStart(38, \"button\", 19);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_38_listener() {\n        return ctx.onSortUpByName();\n      });\n      i0.ɵɵelement(39, \"i\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"button\", 19);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_40_listener() {\n        return ctx.onSortDownByName();\n      });\n      i0.ɵɵelement(41, \"i\", 21);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(42, \"th\", 18);\n      i0.ɵɵtext(43, \"Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"th\", 18);\n      i0.ɵɵtext(45, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"th\", 18);\n      i0.ɵɵtext(47, \"Price \");\n      i0.ɵɵelementStart(48, \"button\", 19);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_48_listener() {\n        return ctx.onSortUpByPrice();\n      });\n      i0.ɵɵelement(49, \"i\", 22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"button\", 19);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_50_listener() {\n        return ctx.onSortDownByPrice();\n      });\n      i0.ɵɵelement(51, \"i\", 23);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(52, \"th\", 18);\n      i0.ɵɵtext(53, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"th\", 18);\n      i0.ɵɵtext(55, \"Manage\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(56, \"tbody\");\n      i0.ɵɵtemplate(57, AppComponent_tr_57_Template, 36, 6, \"tr\", 24);\n      i0.ɵɵtemplate(58, AppComponent_tr_58_Template, 7, 0, \"tr\", 25);\n      i0.ɵɵelementEnd()()()()()()();\n      i0.ɵɵelementStart(59, \"div\", 26)(60, \"div\", 27)(61, \"div\", 28)(62, \"div\", 29)(63, \"h5\", 30);\n      i0.ɵɵtext(64, \"Add new material\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"button\", 31)(66, \"span\", 32);\n      i0.ɵɵtext(67, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(68, \"div\", 33)(69, \"form\", 34, 35);\n      i0.ɵɵlistener(\"ngSubmit\", function AppComponent_Template_form_ngSubmit_69_listener() {\n        i0.ɵɵrestoreView(_r13);\n        const _r3 = i0.ɵɵreference(70);\n        return i0.ɵɵresetView(ctx.onAddMaterial(_r3));\n      });\n      i0.ɵɵelementStart(71, \"div\", 36)(72, \"label\", 37);\n      i0.ɵɵtext(73, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(74, \"input\", 38);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"div\", 36)(76, \"label\", 39);\n      i0.ɵɵtext(77, \"Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(78, \"input\", 40);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(79, \"div\", 36)(80, \"label\", 41);\n      i0.ɵɵtext(81, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(82, \"input\", 42);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(83, \"div\", 36)(84, \"label\", 43);\n      i0.ɵɵtext(85, \"Unit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(86, \"input\", 44);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(87, \"div\", 36)(88, \"label\", 45);\n      i0.ɵɵtext(89, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(90, \"input\", 46);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(91, \"div\", 47)(92, \"button\", 48);\n      i0.ɵɵtext(93, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(94, \"button\", 49);\n      i0.ɵɵtext(95, \"Add\");\n      i0.ɵɵelementEnd()()()()()()();\n      i0.ɵɵelementStart(96, \"div\", 50)(97, \"div\", 27)(98, \"div\", 28)(99, \"div\", 29)(100, \"h5\", 51);\n      i0.ɵɵtext(101);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(102, \"button\", 31)(103, \"span\", 32);\n      i0.ɵɵtext(104, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(105, \"div\", 33)(106, \"form\", null, 52)(108, \"div\", 36)(109, \"label\", 37);\n      i0.ɵɵtext(110, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(111, \"input\", 53);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(112, \"input\", 54);\n      i0.ɵɵelementStart(113, \"div\", 36)(114, \"label\", 55);\n      i0.ɵɵtext(115, \"Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(116, \"input\", 56);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(117, \"div\", 36)(118, \"label\", 41);\n      i0.ɵɵtext(119, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(120, \"input\", 57);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(121, \"div\", 36)(122, \"label\", 43);\n      i0.ɵɵtext(123, \"Unit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(124, \"input\", 58);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(125, \"div\", 36)(126, \"label\", 45);\n      i0.ɵɵtext(127, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(128, \"input\", 59);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(129, \"div\", 47)(130, \"button\", 60);\n      i0.ɵɵtext(131, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(132, \"button\", 61);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_132_listener() {\n        i0.ɵɵrestoreView(_r13);\n        const _r4 = i0.ɵɵreference(107);\n        return i0.ɵɵresetView(ctx.onUpdateMaterial(_r4.value));\n      });\n      i0.ɵɵtext(133, \"Save changes\");\n      i0.ɵɵelementEnd()()()()()()();\n      i0.ɵɵelementStart(134, \"div\", 62)(135, \"div\", 27)(136, \"div\", 28)(137, \"div\", 29)(138, \"h5\", 63);\n      i0.ɵɵtext(139);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(140, \"button\", 31)(141, \"span\", 32);\n      i0.ɵɵtext(142, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(143, \"div\", 33)(144, \"form\", null, 64);\n      i0.ɵɵelement(146, \"input\", 54);\n      i0.ɵɵelementStart(147, \"div\", 36)(148, \"label\", 41);\n      i0.ɵɵtext(149, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(150, \"input\", 57);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(151, \"input\", 65)(152, \"input\", 66)(153, \"input\", 67)(154, \"input\", 68);\n      i0.ɵɵelementStart(155, \"div\", 47)(156, \"button\", 60);\n      i0.ɵɵtext(157, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(158, \"button\", 61);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_158_listener() {\n        i0.ɵɵrestoreView(_r13);\n        const _r5 = i0.ɵɵreference(145);\n        return i0.ɵɵresetView(ctx.onUpdateMaterial(_r5.value));\n      });\n      i0.ɵɵtext(159, \"Save changes\");\n      i0.ɵɵelementEnd()()()()()()();\n      i0.ɵɵelementStart(160, \"div\", 69)(161, \"div\", 27)(162, \"div\", 28)(163, \"div\", 29)(164, \"h5\", 70);\n      i0.ɵɵtext(165);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(166, \"button\", 31)(167, \"span\", 32);\n      i0.ɵɵtext(168, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(169, \"div\", 33)(170, \"p\");\n      i0.ɵɵtext(171);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(172, \"div\", 47)(173, \"button\", 60);\n      i0.ɵɵtext(174, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(175, \"button\", 71);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_175_listener() {\n        return ctx.onDeleteMaterial(ctx.deleteMaterial.id);\n      });\n      i0.ɵɵtext(176, \"Delete\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      const _r3 = i0.ɵɵreference(70);\n      i0.ɵɵadvance(57);\n      i0.ɵɵproperty(\"ngForOf\", ctx.materials);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (ctx.materials == null ? null : ctx.materials.length) == 0);\n      i0.ɵɵadvance(36);\n      i0.ɵɵproperty(\"disabled\", _r3.invalid);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\"Edit material: \", ctx.editMaterial == null ? null : ctx.editMaterial.name, \"\");\n      i0.ɵɵadvance(10);\n      i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.editMaterial == null ? null : ctx.editMaterial.name);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.editMaterial == null ? null : ctx.editMaterial.id);\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.editMaterial == null ? null : ctx.editMaterial.description);\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.editMaterial == null ? null : ctx.editMaterial.quantity);\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.editMaterial == null ? null : ctx.editMaterial.unit);\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.editMaterial == null ? null : ctx.editMaterial.price);\n      i0.ɵɵadvance(11);\n      i0.ɵɵtextInterpolate1(\"Change quantity of \", ctx.buyMaterial == null ? null : ctx.buyMaterial.name, \"\");\n      i0.ɵɵadvance(7);\n      i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.buyMaterial == null ? null : ctx.buyMaterial.id);\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.buyMaterial == null ? null : ctx.buyMaterial.quantity);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.buyMaterial == null ? null : ctx.buyMaterial.name);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.buyMaterial == null ? null : ctx.buyMaterial.description);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.buyMaterial == null ? null : ctx.buyMaterial.unit);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.buyMaterial == null ? null : ctx.buyMaterial.price);\n      i0.ɵɵadvance(11);\n      i0.ɵɵtextInterpolate1(\"Delete \", ctx.deleteMaterial == null ? null : ctx.deleteMaterial.name, \"\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\"Are you sure you want to delete \", ctx.deleteMaterial == null ? null : ctx.deleteMaterial.name, \"?\");\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAmDoBA,0BAAuC;IAGJA,YAAkB;IAAAA,iBAAK;IACpDA,2BAAgC;IACpCA,iBAAK;IACLA,0BAAI;IACyBA,YAAyB;IAAAA,iBAAO;IAAAA,qBAAI;IAEjEA,iBAAK;IACLA,2BAAI;IACyBA,aAAyC;IAAAA,iBAAO;IAAAA,sBAAI;IAEjFA,iBAAK;IACLA,2BAAI;IACuBA,aAAsB;IAAAA,iBAAO;IAAAA,sBAAI;IAE5DA,iBAAK;IACLA,2BAAI;IACuBA,aAA2C;IAAAA,iBAAO;IAAAA,sBAAI;IAEjFA,iBAAK;IACLA,2BAAI;IACMA;MAAA;MAAA;MAAA;MAAA,OAASA,+CAAsB,QAAQ,CAAC;IAAA,EAAC;IAAiFA,yBAA2B;IAACA,iBAAS;IACvKA,mCAAkI;IAA1HA;MAAA;MAAA;MAAA;MAAA,OAASA,+CAAsB,QAAQ,CAAC;IAAA,EAAC;IAAiFA,yBAA0B;IAACA,iBAAS;IACtKA,mCAA+H;IAAvHA;MAAA;MAAA;MAAA;MAAA,OAASA,gDAAsB,KAAK,CAAC;IAAA,EAAC;IAAiFA,yBAA0B;IAACA,iBAAS;IACnKA,mCAA6H;IAArHA;MAAA;MAAA;MAAA;MAAA,OAASA,oDAA0B;IAAA,EAAC;IAAiFA,yBAAiC;IAACA,iBAAS;IACxKA,mCAA6H;IAArHA;MAAA;MAAA;MAAA;MAAA,OAASA,oDAA0B;IAAA,EAAC;IAAiFA,yBAAkC;IAACA,iBAAS;;;;IAxB1IA,eAAkB;IAAlBA,mEAAkB;IAItBA,eAAyB;IAAzBA,0EAAyB;IAIzBA,eAAyC;IAAzCA,oIAAyC;IAI3CA,eAAsB;IAAtBA,qFAAsB;IAItBA,eAA2C;IAA3CA,+EAA2C;;;;;IAWxEA,0BAAmC;IACjCA,yBAAsB;IACtBA,8BAAc;IACmBA,sDAAsC;IAAAA,iBAAK;IACxEA,gCAAyB;IAAAA,sCAAsB;IAAAA,iBAAO;;;AC1EhF,OAAM,MAAOC,YAAY;EAMvBC,YAAoBC,eAAgC;IAAhC,oBAAe,GAAfA,eAAe;IAL5B,cAAS,GAAe,EAAE;EAKuB;EAExDC,QAAQ;IACN,IAAI,CAACC,YAAY,EAAE;EACrB;EAEOA,YAAY;IACjB,IAAI,CAACF,eAAe,CAACE,YAAY,EAAE,CAACC,SAAS,CAC1CC,QAAoB,IAAI;MACvBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,IAAI,CAACG,SAAS,GAAGH,QAAQ;IAC3B,CAAC,EACAI,KAAwB,IAAI;MAC3BC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;IACtB,CAAC,CACF;EACH;EAEOC,aAAa,CAACC,OAAe;IAClCC,QAAQ,CAACC,cAAc,CAAC,mBAAmB,CAAE,CAACC,KAAK,EAAE;IACrD,IAAI,IAAI,CAACC,gBAAgB,CAACJ,OAAO,CAACK,KAAK,CAAC,IAAI,IAAI,CAACC,aAAa,CAACN,OAAO,CAACK,KAAK,CAAC,EAAE;MAC/E,IAAI,CAACjB,eAAe,CAACmB,WAAW,CAACP,OAAO,CAACK,KAAK,CAAC,CAACd,SAAS,CACtDC,QAAkB,IAAI;QACrBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrB,IAAI,CAACF,YAAY,EAAE;MACrB,CAAC,EACAM,KAAwB,IAAI;QAC3BC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;MACtB,CAAC,CACF;;IACDE,OAAO,CAACQ,KAAK,EAAE;EACjB;EAEOC,gBAAgB,CAACC,QAAkB;IACxC,IAAI,IAAI,CAACN,gBAAgB,CAACM,QAAQ,CAAC,IAAI,IAAI,CAACJ,aAAa,CAACI,QAAQ,CAAC,EAAE;MACrE,IAAI,CAACtB,eAAe,CAACuB,cAAc,CAACD,QAAQ,CAAC,CAACnB,SAAS,CACpDC,QAAkB,IAAI;QACrBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrB,IAAI,CAACF,YAAY,EAAE;MACrB,CAAC,EACAM,KAAwB,IAAI;QAC3BC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;MACtB,CAAC,CACF;KAAE,MAAM;MACP,IAAI,CAACc,YAAY,GAAGF,QAAQ;MAC5B,IAAI,CAACG,WAAW,GAAGH,QAAQ;;EAG/B;EAEOI,gBAAgB,CAACJ,QAAkB;IACxCA,QAAQ,CAACK,QAAQ,EAAE;IACnB,IAAI,CAAC3B,eAAe,CAACuB,cAAc,CAACD,QAAQ,CAAC,CAACnB,SAAS,CACpDC,QAAkB,IAAI;MACrBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB;IACF,CAAC,EACAI,KAAwB,IAAI;MAC3BC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;MACpBY,QAAQ,CAACK,QAAQ,EAAE;IACrB,CAAC,CACF;EACH;EAEOC,gBAAgB,CAACN,QAAkB;IACxC,IAAIA,QAAQ,CAACK,QAAQ,IAAI,CAAC,EAAE;MAC1BL,QAAQ,CAACK,QAAQ,EAAE;KACpB,MAAM;MACLlB,KAAK,CAAC,iBAAiB,GAAGa,QAAQ,CAACO,IAAI,CAAC;;IAG1C,IAAI,CAAC7B,eAAe,CAACuB,cAAc,CAACD,QAAQ,CAAC,CAACnB,SAAS,CACpDC,QAAkB,IAAI;MACrBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB;IACF,CAAC,EACAI,KAAwB,IAAI;MAC3BC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;MACpBY,QAAQ,CAACK,QAAQ,EAAE;IACrB,CAAC,CACF;EACH;EAGOG,gBAAgB,CAACC,UAAkB;IACxC,IAAI,CAAC/B,eAAe,CAACgC,cAAc,CAACD,UAAU,CAAC,CAAC5B,SAAS,CACtDC,QAAc,IAAI;MACjBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,IAAI,CAACF,YAAY,EAAE;IACrB,CAAC,EACAM,KAAwB,IAAI;MAC3BC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;IACtB,CAAC,CACF;EACH;EAEOuB,eAAe,CAACC,GAAW;IAChC,MAAMC,OAAO,GAAe,EAAE;IAC9B,KAAK,MAAMb,QAAQ,IAAI,IAAI,CAACf,SAAS,EAAE;MACrC,IAAIe,QAAQ,CAACO,IAAI,CAACO,WAAW,EAAE,CAACC,OAAO,CAACH,GAAG,CAACE,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,IAC9Dd,QAAQ,CAACgB,WAAW,CAACF,WAAW,EAAE,CAACC,OAAO,CAACH,GAAG,CAACE,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE;QACvED,OAAO,CAACI,IAAI,CAACjB,QAAQ,CAAC;;;IAG1B,IAAI,CAACf,SAAS,GAAG4B,OAAO;IACxB,IAAIA,OAAO,CAACK,MAAM,KAAK,CAAC,IAAI,CAACN,GAAG,EAAE;MAChC,IAAI,CAAChC,YAAY,EAAE;;EAEvB;EAEOc,gBAAgB,CAACM,QAAkB;IACxC,IAAIA,QAAQ,CAACK,QAAQ,GAAG,CAAC,EAAE;MACzBlB,KAAK,CAAC,wCAAwC,GAAGa,QAAQ,CAACO,IAAI,CAAC;MAC/D,OAAO,KAAK;;IAEd,OAAO,IAAI;EACb;EAEOX,aAAa,CAACI,QAAkB;IACrC,IAAIA,QAAQ,CAACmB,KAAK,GAAG,CAAC,EAAE;MACtBhC,KAAK,CAAC,qCAAqC,GAAGa,QAAQ,CAACO,IAAI,CAAC;MAC5D,OAAO,KAAK;;IAEd,OAAO,IAAI;EACb;EAEOa,eAAe;IAClB,IAAI,CAACnC,SAAS,CAACoC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAMD,CAAC,CAACH,KAAK,GAAGI,CAAC,CAACJ,KAAM,CAAC;EAEtD;EAEOK,iBAAiB;IACpB,IAAI,CAACvC,SAAS,CAACoC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAMA,CAAC,CAACJ,KAAK,GAAGG,CAAC,CAACH,KAAM,CAAC;EACtD;EAEOM,cAAc;IACnB,IAAI,CAACxC,SAAS,CAACoC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAMD,CAAC,CAACf,IAAI,CAACmB,aAAa,CAACH,CAAC,CAAChB,IAAI,CAAE,CAAC;EACjE;EAESoB,gBAAgB;IACrB,IAAI,CAAC1C,SAAS,CAACoC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAMA,CAAC,CAAChB,IAAI,CAACmB,aAAa,CAACJ,CAAC,CAACf,IAAI,CAAE,CAAC;EACjE;EAESqB,WAAW,CAAC5B,QAAkB,EAAE6B,IAAY;IAEjD,MAAMC,SAAS,GAAGvC,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC;IAC3D,MAAMuC,MAAM,GAAGxC,QAAQ,CAACyC,aAAa,CAAC,QAAQ,CAAC;IAC/CD,MAAM,CAACE,IAAI,GAAG,QAAQ;IACtBF,MAAM,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;IAC7BJ,MAAM,CAACK,YAAY,CAAC,aAAa,EAAE,OAAO,CAAC;IAC3C,IAAIP,IAAI,KAAK,KAAK,EAAE;MAClBE,MAAM,CAACK,YAAY,CAAC,aAAa,EAAE,mBAAmB,CAAC;;IAEzD,IAAIP,IAAI,KAAK,QAAQ,EAAE;MACrB,IAAI,CAAC3B,YAAY,GAAGF,QAAQ;MAC5B+B,MAAM,CAACK,YAAY,CAAC,aAAa,EAAE,sBAAsB,CAAC;;IAE5D,IAAIP,IAAI,KAAK,KAAK,EAAE;MAClB,IAAI,CAAC1B,WAAW,GAAGH,QAAQ;MAC3B+B,MAAM,CAACK,YAAY,CAAC,aAAa,EAAE,mBAAmB,CAAC;;IAEzD,IAAIP,IAAI,KAAK,QAAQ,EAAE;MACrB,IAAI,CAACnB,cAAc,GAAGV,QAAQ;MAC9B+B,MAAM,CAACK,YAAY,CAAC,aAAa,EAAE,sBAAsB,CAAC;;IAE5DN,SAAU,CAACO,WAAW,CAACN,MAAM,CAAC;IAC9BA,MAAM,CAACtC,KAAK,EAAE;EAChB;EAEO6C,SAAS;IACd,IAAIC,QAAQ,GAAG,gDAAgD;IAC/D,IAAIC,WAAW,GAAGjD,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAE;IAC1D,IAAIiD,SAAS,GAAGD,WAAW,CAACE,SAAS,CAACC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC;IAC1D,IAAIC,YAAY,GAAGrD,QAAQ,CAACyC,aAAa,CAAC,GAAG,CAAC;IAC9CzC,QAAQ,CAACsD,IAAI,CAACR,WAAW,CAACO,YAAY,CAAC;IACvCA,YAAY,CAACE,IAAI,GAAG,OAAO,GAAGP,QAAQ,GAAG,IAAI,GAAGE,SAAS;IACzDG,YAAY,CAACG,QAAQ,GAAG,qBAAqB;IAC7CH,YAAY,CAACnD,KAAK,EAAE;IACpBF,QAAQ,CAACsD,IAAI,CAACG,WAAW,CAACJ,YAAY,CAAC;EACzC;EAEOK,WAAW;IAChBC,MAAM,CAACC,KAAK,EAAE;EAChB;;AA7LW3E,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;QAAZA,YAAY;EAAA4E;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MDVzBjF,0BAAuF;MAEvFA,8BAA2C;MAIRA,wCACrB;MAAAA,8BAAuB;MAEcA;QAAA,OAASkF,cAAU;MAAA,EAAC;MAAClF,8BAAsB;MAAAA,yCAAwB;MAAAA,iBAAK;MAE7GA,+BAA+B;MACUA;QAAA,OAASkF,gBAAY,IAAI,EAAG,KAAK,CAAC;MAAA,EAAC;MAAClF,wBAAO;MAAAA,iBAAS;MAE7FA,+BAA+B;MACUA;QAAA,OAASkF,eAAW;MAAA,EAAC;MAAClF,yBAAQ;MAAAA,iBAAS;MAEhFA,+BAA+B;MACUA;QAAA,OAASkF,iBAAa;MAAA,EAAC;MAAClF,2BAAU;MAAAA,iBAAS;MAEpFA,gCAA8B;MAGMA;QAAAA;QAAA;QAAA,OAAiBA,6CAA0B;MAAA,EAAC;MAA1EA,iBAAkI;MAClIA,iCAAoB;MAAAA,iCAAgB;MAAAA,iBAAO;MAC3CA,4BAA8B;MAChCA,iBAAQ;MAKdA,gCAA8B;MAKwCA,sBAC5D;MAAAA,mCAAkE;MAA1DA;QAAA,OAASkF,oBAAgB;MAAA,EAAC;MAAgClF,yBAAsC;MAAAA,iBAAS;MACjHA,mCAAoE;MAA5DA;QAAA,OAASkF,sBAAkB;MAAA,EAAC;MAAgClF,yBAA0C;MAAAA,iBAAS;MACvHA,+BAA4D;MAAAA,qBAAI;MAAAA,iBAAK;MACrEA,+BAA4D;MAAAA,yBAAQ;MAAAA,iBAAK;MACzEA,+BAA4D;MAAAA,uBAC5D;MAAAA,mCAAmE;MAA3DA;QAAA,OAASkF,qBAAiB;MAAA,EAAC;MAAgClF,yBAAwC;MAAAA,iBAAS;MACpHA,mCAAqE;MAA7DA;QAAA,OAASkF,uBAAmB;MAAA,EAAC;MAAgClF,yBAA4C;MAAAA,iBAAS;MAE1HA,+BAA4D;MAAAA,uBAAM;MAAAA,iBAAK;MACvEA,+BAA4D;MAAAA,uBAAM;MAAAA,iBAAK;MAG3EA,8BAAO;MACLA,+DA6BK;MACLA,8DAMK;MACPA,iBAAQ;MAS1BA,gCAAqI;MAIxEA,iCAAgB;MAAAA,iBAAK;MACxEA,mCAA4E;MACjDA,uBAAO;MAAAA,iBAAO;MAG3CA,gCAAwB;MACEA;QAAAA;QAAA;QAAA,OAAYA,qCAAsB;MAAA,EAAC;MAE3DA,gCAAwB;MACJA,qBAAI;MAAAA,iBAAQ;MAC9BA,6BAAkG;MACpGA,iBAAM;MACNA,gCAAwB;MACGA,qBAAI;MAAAA,iBAAQ;MACrCA,6BAAyG;MAC3GA,iBAAM;MACNA,gCAAwB;MACAA,yBAAQ;MAAAA,iBAAQ;MACtCA,6BAAgH;MAClHA,iBAAM;MACNA,gCAAwB;MACJA,qBAAI;MAAAA,iBAAQ;MAC9BA,6BAAkG;MACpGA,iBAAM;MACNA,gCAAwB;MACHA,sBAAK;MAAAA,iBAAQ;MAChCA,6BAAqG;MACvGA,iBAAM;MACNA,gCAA0B;MACoEA,sBAAK;MAAAA,iBAAS;MAC1GA,mCAA2E;MAAAA,oBAAG;MAAAA,iBAAS;MASnGA,gCAA2I;MAI7EA,cAAqC;MAAAA,iBAAK;MAChGA,oCAA4E;MACjDA,wBAAO;MAAAA,iBAAO;MAG3CA,iCAAwB;MAGFA,sBAAI;MAAAA,iBAAQ;MAC9BA,8BAAwJ;MAC1JA,iBAAM;MACNA,8BAA4G;MAC5GA,iCAAwB;MACIA,sBAAI;MAAAA,iBAAQ;MACtCA,8BAAyI;MAC3IA,iBAAM;MACNA,iCAAwB;MACAA,0BAAQ;MAAAA,iBAAQ;MACtCA,8BAA6I;MAC/IA,iBAAM;MACNA,iCAAwB;MACJA,sBAAI;MAAAA,iBAAQ;MAC9BA,8BAA2H;MAC7HA,iBAAM;MACNA,iCAAwB;MACHA,uBAAK;MAAAA,iBAAQ;MAChCA,8BAA+H;MACjIA,iBAAM;MACNA,iCAA0B;MAC6CA,uBAAK;MAAAA,iBAAS;MACnFA,oCAAgG;MAAxFA;QAAAA;QAAA;QAAA,OAASA,8CAAgC;MAAA,EAAC;MAA8CA,8BAAY;MAAAA,iBAAS;MAS/HA,iCAAqI;MAI1EA,cAAwC;MAAAA,iBAAK;MAChGA,oCAA4E;MACjDA,wBAAO;MAAAA,iBAAO;MAG3CA,iCAAwB;MAGtBA,8BAA2G;MAC3GA,iCAAwB;MACAA,0BAAQ;MAAAA,iBAAQ;MACtCA,8BAA4I;MAC9IA,iBAAM;MAENA,8BAAyJ;MAQzJA,iCAA0B;MAC6CA,uBAAK;MAAAA,iBAAS;MACnFA,oCAA+F;MAAvFA;QAAAA;QAAA;QAAA,OAASA,8CAA+B;MAAA,EAAC;MAA8CA,8BAAY;MAAAA,iBAAS;MAS9HA,iCAA2I;MAI7EA,cAA+B;MAAAA,iBAAK;MAC1FA,oCAA4E;MACjDA,wBAAO;MAAAA,iBAAO;MAG3CA,iCAAwB;MACnBA,cAAyD;MAAAA,iBAAI;MAElEA,iCAA0B;MAC6CA,uBAAK;MAAAA,iBAAS;MACnFA,oCAAkG;MAA1FA;QAAA,OAASkF,2CAAmC;MAAA,EAAC;MAA6ClF,wBAAM;MAAAA,iBAAS;;;;MAvL5EA,gBAAY;MAAZA,uCAAY;MA8BhCA,eAA4B;MAA5BA,iFAA4B;MAkDjCA,gBAA4B;MAA5BA,sCAA4B;MAacA,eAAqC;MAArCA,qGAAqC;MAStEA,gBAAgC;MAAhCA,4FAAgC;MAEhCA,eAA8B;MAA9BA,0FAA8B;MAG9BA,eAAuC;MAAvCA,mGAAuC;MAIrCA,eAAoC;MAApCA,gGAAoC;MAItCA,eAAgC;MAAhCA,4FAAgC;MAIhCA,eAAiC;MAAjCA,6FAAiC;MAiBHA,gBAAwC;MAAxCA,uGAAwC;MAQtEA,eAA6B;MAA7BA,wFAA6B;MAG3BA,eAAmC;MAAnCA,8FAAmC;MAGrCA,eAA+B;MAA/BA,0FAA+B;MAE/BA,eAAsC;MAAtCA,iGAAsC;MAEtCA,eAA+B;MAA/BA,0FAA+B;MAE/BA,eAAgC;MAAhCA,2FAAgC;MAiBCA,gBAA+B;MAA/BA,iGAA+B;MAMlFA,eAAyD;MAAzDA,2HAAyD","names":["i0","AppComponent","constructor","materialService","ngOnInit","getMaterials","subscribe","response","console","log","materials","error","alert","message","onAddMaterial","addForm","document","getElementById","click","validateQuantity","value","validatePrice","addMaterial","reset","onUpdateMaterial","material","updateMaterial","editMaterial","buyMaterial","onBuyOneMaterial","quantity","onUseOneMaterial","name","onDeleteMaterial","materialId","deleteMaterial","searchMaterials","key","results","toLowerCase","indexOf","description","push","length","price","onSortUpByPrice","sort","a","b","onSortDownByPrice","onSortUpByName","localeCompare","onSortDownByName","onOpenModal","mode","container","button","createElement","type","style","display","setAttribute","appendChild","xlsReport","dataType","tableSelect","tableHtml","outerHTML","replace","downloadLink","body","href","download","removeChild","printReport","window","print","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\projekty\\java\\InstalBase\\InstalBase\\src\\app\\app.component.html","D:\\projekty\\java\\InstalBase\\InstalBase\\src\\app\\app.component.ts"],"sourcesContent":["\r\n<link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.15.4/css/all.css\">\r\n\r\n<div class=\"container\" id=\"main-container\">\r\n<div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">INSTALBASE by Dirtyloop\r\n              <div class=\"card-menu\">\r\n              <div class=\"Buttons-container\">\r\n                <button type=\"button\" class=\"Btns\" (click)=\"ngOnInit()\"><h3 class=\"cardTitle\">WAREHOUSE MANAGER v.0.2 </h3></button> \r\n              </div>\r\n              <div class=\"Buttons-container\">\r\n                <h4><button type=\"button\" class=\"Btns\" (click)=\"onOpenModal(null!, 'add')\">ADD NEW</button></h4>\r\n              </div>\r\n              <div class=\"Buttons-container\">\r\n                <h4><button type=\"button\" class=\"Btns\" (click)=\"xlsReport()\">XLS LIST</button></h4>\r\n              </div>\r\n              <div class=\"Buttons-container\">\r\n                <h4><button type=\"button\" class=\"Btns\" (click)=\"printReport()\">PRINT LIST</button></h4>\r\n              </div>\r\n              <div class=\"search-container\">\r\n                <form>\r\n                  <label for=\"inp\" class=\"inp\">\r\n                    <input type=\"search\" id=\"inp\" (ngModelChange)=\"searchMaterials(key.value)\" #key=\"ngModel\" ngModel name=\"key\" placeholder=\"&nbsp;\">\r\n                    <span class=\"label\">Search materials</span>\r\n                    <span class=\"focus-bg\"></span>\r\n                  </label>\r\n                </form>\r\n              </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"table-responsive\">\r\n                <table class=\"table no-wrap user-table mb-0\" id=\"materialList\">\r\n                  <thead>\r\n                    <tr>\r\n                      <!--<th scope=\"col\" class=\"border-0 text-uppercase font-medium pl-4\">#</th>-->\r\n                      <th scope=\"col\" class=\"border-0 text-uppercase font-medium\">Name \r\n                      <button (click)=\"onSortUpByName()\" type=\"button\" class=\"sortBtns\"><i class=\"fas fa-sort-alpha-down\"></i></button>\r\n                      <button (click)=\"onSortDownByName()\" type=\"button\" class=\"sortBtns\"><i class=\"fas fa-sort-alpha-down-alt\"></i></button></th>\r\n                      <th scope=\"col\" class=\"border-0 text-uppercase font-medium\">Type</th>\r\n                      <th scope=\"col\" class=\"border-0 text-uppercase font-medium\">Quantity</th>\r\n                      <th scope=\"col\" class=\"border-0 text-uppercase font-medium\">Price\r\n                      <button (click)=\"onSortUpByPrice()\" type=\"button\" class=\"sortBtns\"><i class=\"fas fa-sort-numeric-down\"></i></button>\r\n                      <button (click)=\"onSortDownByPrice()\" type=\"button\" class=\"sortBtns\"><i class=\"fas fa-sort-numeric-down-alt\"></i></button></th>\r\n                    \r\n                      <th scope=\"col\" class=\"border-0 text-uppercase font-medium\">Amount</th>\r\n                      <th scope=\"col\" class=\"border-0 text-uppercase font-medium\">Manage</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr *ngFor=\"let material of materials\">\r\n                      <!--<td class=\"pl-4\">{{material?.id}}</td>-->\r\n                      <td>\r\n                          <h5 class=\"font-medium mb-0\">{{material?.name}}</h5>\r\n                          <span class=\"text-muted\"></span>\r\n                      </td>\r\n                      <td>\r\n                          <span class=\"text-muted\">{{material?.description}}</span><br>\r\n                          <span class=\"text-muted\"></span>\r\n                      </td>\r\n                      <td>\r\n                          <span class=\"text-muted\">{{material?.quantity}} {{material?.unit}}</span><br>\r\n                          <span class=\"text-muted\"></span>\r\n                      </td>\r\n                      <td>\r\n                        <span class=\"text-muted\">{{material?.price}} zł</span><br>\r\n                        <span class=\"text-muted\"></span>\r\n                      </td>\r\n                      <td>\r\n                        <span class=\"text-muted\">{{ material.quantity * material.price }} zł</span><br>\r\n                        <span class=\"text-muted\"></span>\r\n                      </td>\r\n                      <td>\r\n                        <button (click)=\"onOpenModal(material, 'delete')\" type=\"button\" class=\"btn btn-outline-primary btn-circle btn-lg btn-circle ml-2\"><i class=\"fa fa-trash\"></i> </button>\r\n                        <button (click)=\"onOpenModal(material, 'update')\" type=\"button\" class=\"btn btn-outline-primary btn-circle btn-lg btn-circle ml-2\"><i class=\"fa fa-edit\"></i> </button>\r\n                        <button (click)=\"onOpenModal(material, 'buy')\" type=\"button\" class=\"btn btn-outline-primary btn-circle btn-lg btn-circle ml-2\"><i class=\"fa fa-plus\"></i> </button>\r\n                        <button (click)=\"onBuyOneMaterial(material)\" type=\"button\" class=\"btn btn-outline-primary btn-circle btn-lg btn-circle ml-2\"><i class=\"fa fa-plus-square\"></i> </button>\r\n                        <button (click)=\"onUseOneMaterial(material)\" type=\"button\" class=\"btn btn-outline-primary btn-circle btn-lg btn-circle ml-2\"><i class=\"fa fa-minus-square\"></i> </button>\r\n                      </td>\r\n                    </tr>\r\n                    <tr *ngIf=\"materials?.length == 0\">\r\n                      <td class=\"pl-4\"></td>\r\n                      <td colspan=6>\r\n                          <h5 class=\"font-medium mb-0\">There is no material in your database.</h5>\r\n                          <span class=\"text-muted\">Feel free to add some.</span>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n\r\n<!-- Add Modal -->\r\n<div class=\"modal fade\" id=\"addMaterialModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"addMaterialModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"addMaterialModalLabel\">Add new material</h5>\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <form #addForm=\"ngForm\" (ngSubmit)=\"onAddMaterial(addForm)\">\r\n            \r\n          <div class=\"form-group\">\r\n            <label for=\"name\">Name</label>\r\n            <input type=\"text\" ngModel name=\"name\" class=\"form-control\" id=\"name\" placeholder=\"Name\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"description\">Type</label>\r\n            <input type=\"text\" ngModel name=\"description\" class=\"form-control\" id=\"type\" placeholder=\"Type\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"quantity\">Quantity</label>\r\n            <input type=\"number\" ngModel name=\"quantity\" class=\"form-control\" id=\"quantity\" placeholder=\"Quantity\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"unit\">Unit</label>\r\n            <input type=\"text\" ngModel name=\"unit\" class=\"form-control\" id=\"unit\" placeholder=\"Unit\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"price\">Price</label>\r\n            <input type=\"text\" ngModel name=\"price\" class=\"form-control\" id=\"price\" placeholder=\"Price\" required>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" id=\"add-material-form\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n            <button [disabled]=\"addForm.invalid\" type=\"submit\" class=\"btn btn-primary\">Add</button>\r\n          </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Update Modal -->\r\n<div class=\"modal fade\" id=\"updateMaterialModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"updateMaterialModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"updateMaterialModalLabel\">Edit material: {{editMaterial?.name}}</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <form #editForm=\"ngForm\">\r\n        <div class=\"form-group\">\r\n          <label for=\"name\">Name</label>\r\n          <input type=\"text\" ngModel=\"{{editMaterial?.name}}\" name=\"name\" class=\"form-control\" id=\"name\" aria-describedby=\"emailHelp\" placeholder=\"Name\" required>\r\n        </div>\r\n        <input type=\"hidden\" ngModel=\"{{editMaterial?.id}}\" name=\"id\" class=\"form-control\" id=\"id\" placeholder=\"Id\">\r\n        <div class=\"form-group\">\r\n          <label for=\"descriptione\">Type</label>\r\n          <input type=\"text\" ngModel=\"{{editMaterial?.description}}\" name=\"description\" class=\"form-control\" id=\"type\" placeholder=\"Type\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"quantity\">Quantity</label>\r\n          <input type=\"number\" ngModel=\"{{editMaterial?.quantity}}\" name=\"quantity\" class=\"form-control\" id=\"quantity\" placeholder=\"Quantity\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"unit\">Unit</label>\r\n          <input type=\"text\" ngModel=\"{{editMaterial?.unit}}\" name=\"unit\" class=\"form-control\" id=\"unit\" placeholder=\"Unit\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"price\">Price</label>\r\n          <input type=\"text\" ngModel=\"{{editMaterial?.price}}\" name=\"price\" class=\"form-control\" id=\"price\" placeholder=\"Price\" required>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n          <button (click)=\"onUpdateMaterial(editForm.value)\" data-dismiss=\"modal\" class=\"btn btn-primary\">Save changes</button>\r\n        </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Buy Modal -->\r\n<div class=\"modal fade\" id=\"buyMaterialModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"buyMaterialModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"buyMaterialModalLabel\">Change quantity of {{buyMaterial?.name}}</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <form #buyForm=\"ngForm\">\r\n        \r\n        <input type=\"hidden\" ngModel=\"{{buyMaterial?.id}}\" name=\"id\" class=\"form-control\" id=\"id\" placeholder=\"Id\">\r\n        <div class=\"form-group\">\r\n          <label for=\"quantity\">Quantity</label>\r\n          <input type=\"number\" ngModel=\"{{buyMaterial?.quantity}}\" name=\"quantity\" class=\"form-control\" id=\"quantity\" placeholder=\"Quantity\" required>\r\n        </div>\r\n        \r\n        <input type=\"hidden\" ngModel=\"{{buyMaterial?.name}}\" name=\"name\" class=\"form-control\" id=\"name\" aria-describedby=\"emailHelp\" placeholder=\"Name\" required>\r\n        \r\n        <input type=\"hidden\" ngModel=\"{{buyMaterial?.description}}\" name=\"description\" class=\"form-control\" id=\"type\" placeholder=\"Type\" required>\r\n\r\n        <input type=\"hidden\" ngModel=\"{{buyMaterial?.unit}}\" name=\"unit\" class=\"form-control\" id=\"unit\" placeholder=\"Unit\" required>\r\n\r\n        <input type=\"hidden\" ngModel=\"{{buyMaterial?.price}}\" name=\"price\" class=\"form-control\" id=\"price\" placeholder=\"Price\" required>\r\n\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n          <button (click)=\"onUpdateMaterial(buyForm.value)\" data-dismiss=\"modal\" class=\"btn btn-primary\">Save changes</button>\r\n        </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Delete Modal -->\r\n<div class=\"modal fade\" id=\"deleteMaterialModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"deleteMaterialModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"deleteMaterialModalLabel\">Delete {{deleteMaterial?.name}}</h5>\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <p>Are you sure you want to delete {{deleteMaterial?.name}}?</p>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n        <button (click)=\"onDeleteMaterial(deleteMaterial.id)\" data-dismiss=\"modal\" class=\"btn btn-danger\">Delete</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n  ","import { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Material } from './material';\r\nimport { MaterialService } from './material.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit{\r\n  public materials: Material[] = [];\r\n  public editMaterial!: Material;\r\n  public deleteMaterial!: Material;\r\n  public buyMaterial!: Material;\r\n\r\n  constructor(private materialService: MaterialService) { }\r\n\r\n  ngOnInit() {\r\n    this.getMaterials();\r\n  }\r\n\r\n  public getMaterials(): void {\r\n    this.materialService.getMaterials().subscribe(\r\n      (response: Material[]) => {\r\n        console.log(response);\r\n        this.materials = response;\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        alert(error.message);\r\n      }\r\n    );\r\n  }\r\n\r\n  public onAddMaterial(addForm: NgForm): void {\r\n    document.getElementById('add-material-form')!.click();\r\n    if (this.validateQuantity(addForm.value) && this.validatePrice(addForm.value)) {\r\n    this.materialService.addMaterial(addForm.value).subscribe(\r\n      (response: Material) => {\r\n        console.log(response);\r\n        this.getMaterials();\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        alert(error.message);\r\n      }\r\n    );}\r\n    addForm.reset();\r\n  }\r\n\r\n  public onUpdateMaterial(material: Material): void {\r\n    if (this.validateQuantity(material) && this.validatePrice(material)) {\r\n    this.materialService.updateMaterial(material).subscribe(\r\n      (response: Material) => {\r\n        console.log(response);\r\n        this.getMaterials();\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        alert(error.message);\r\n      }\r\n    );} else {\r\n      this.editMaterial = material;\r\n      this.buyMaterial = material;\r\n    }\r\n\r\n  }\r\n\r\n  public onBuyOneMaterial(material: Material): void {\r\n    material.quantity++;\r\n    this.materialService.updateMaterial(material).subscribe(\r\n      (response: Material) => {\r\n        console.log(response);\r\n        //this.getMaterials();\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        alert(error.message);\r\n        material.quantity--;\r\n      }\r\n    );\r\n  }\r\n\r\n  public onUseOneMaterial(material: Material): void {\r\n    if (material.quantity >= 1) {\r\n      material.quantity--;\r\n    } else {\r\n      alert(\"You are out of \" + material.name);\r\n    }\r\n    \r\n    this.materialService.updateMaterial(material).subscribe(\r\n      (response: Material) => {\r\n        console.log(response);\r\n        //this.getMaterials();\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        alert(error.message);\r\n        material.quantity++;\r\n      }\r\n    );\r\n  }\r\n  \r\n\r\n  public onDeleteMaterial(materialId: number): void {\r\n    this.materialService.deleteMaterial(materialId).subscribe(\r\n      (response: void) => {\r\n        console.log(response);\r\n        this.getMaterials();\r\n      },\r\n      (error: HttpErrorResponse) => {\r\n        alert(error.message);\r\n      }\r\n    );\r\n  }\r\n\r\n  public searchMaterials(key: string): void {\r\n    const results: Material[] = [];\r\n    for (const material of this.materials) {\r\n      if (material.name.toLowerCase().indexOf(key.toLowerCase()) !== -1\r\n      || material.description.toLowerCase().indexOf(key.toLowerCase()) !== -1) {\r\n        results.push(material);\r\n      }\r\n    }\r\n    this.materials = results;\r\n    if (results.length === 0 || !key) {\r\n      this.getMaterials();\r\n    }\r\n  }\r\n\r\n  public validateQuantity(material: Material): boolean {\r\n    if (material.quantity < 0) {\r\n      alert(\"You cannot input negative quantity of \" + material.name)\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public validatePrice(material: Material): boolean {\r\n    if (material.price < 0) {\r\n      alert(\"You cannot input negative price of \" + material.name)\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public onSortUpByPrice(): void {\r\n      this.materials.sort((a, b) => (a.price - b.price));\r\n    \r\n  }\r\n\r\n  public onSortDownByPrice(): void {\r\n      this.materials.sort((a, b) => (b.price - a.price));\r\n  }\r\n\r\n  public onSortUpByName(): void {\r\n    this.materials.sort((a, b) => (a.name.localeCompare(b.name)));\r\n}\r\n\r\n  public onSortDownByName(): void {\r\n    this.materials.sort((a, b) => (b.name.localeCompare(a.name)));\r\n}\r\n\r\n  public onOpenModal(material: Material, mode: string): void {\r\n  \r\n    const container = document.getElementById('main-container');\r\n    const button = document.createElement('button');\r\n    button.type = 'button';\r\n    button.style.display = 'none';\r\n    button.setAttribute('data-toggle', 'modal');\r\n    if (mode === 'add') {\r\n      button.setAttribute('data-target', '#addMaterialModal');\r\n    }\r\n    if (mode === 'update') {\r\n      this.editMaterial = material;\r\n      button.setAttribute('data-target', '#updateMaterialModal');\r\n    }\r\n    if (mode === 'buy') {\r\n      this.buyMaterial = material;\r\n      button.setAttribute('data-target', '#buyMaterialModal');\r\n    }\r\n    if (mode === 'delete') {\r\n      this.deleteMaterial = material;\r\n      button.setAttribute('data-target', '#deleteMaterialModal');\r\n    }\r\n    container!.appendChild(button);\r\n    button.click();\r\n  }\r\n\r\n  public xlsReport(): void {\r\n    let dataType = 'application/vnd.ms-excel.sheet.macroEnabled.12';\r\n    let tableSelect = document.getElementById('materialList')!;\r\n    let tableHtml = tableSelect.outerHTML.replace(/ /g, '%20');\r\n    let downloadLink = document.createElement('a');\r\n    document.body.appendChild(downloadLink);\r\n    downloadLink.href = 'data:' + dataType + ', ' + tableHtml;\r\n    downloadLink.download = 'material-report.xls';\r\n    downloadLink.click();\r\n    document.body.removeChild(downloadLink);\r\n  }\r\n\r\n  public printReport(): void {\r\n    window.print();\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}